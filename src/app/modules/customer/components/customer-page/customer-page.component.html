<div class="container container justify-content-center pt-2">
    <div class="row mt-2">
        <h6 style="font-family:Kanit, sans-serif;">ประวัติการสั่งซื้อ</h6>

    </div>
    <hr>

    <div class="row mt-4">
        <div class="col-2 text-end pt-2">
            <label class="form-label" for="materialdesc">Material Description</label>
        </div>
        <div class="col-3">
            <input [(ngModel)]="param.materialDesc" id="materialdesc" class="form-control" type="text">
        </div>
        <div class="col-2 text-end pt-2">
            <label  class="form-label">Date</label>
        </div>
        <div class="col-3">
            <dx-select-box displayExpr="text" valueExpr="value" [items]="dateDataSource"
                [(ngModel)]="param.dateDo" class="mb-2"></dx-select-box>
            <date-range *ngIf="param.dateDo == 0" [start-date]="param.dateFrom"
                [end-date]="param.dateTo" (onUpdate)="onDateRangeChanged($event)">
            </date-range>
        </div>
    </div>

    <div class="row p-2">
        <div class="col-3 offset-2">
            <button class="btn btn-sm btn-success"><i class="fa-solid fa-magnifying-glass me-1"></i>Search</button>
            <button class="btn btn-sm btn-secondary ms-2" (click)="onClickClear()"><i class="fa-solid fa-broom me-1"></i>Clear</button>
        </div>
    </div>
    <hr>
    <div class="row mt-4">
        <div class="col-12">
            <dx-data-grid id="gridContainer" [dataSource]="dataSource" [remoteOperations]="false"
                [allowColumnReordering]="true" [rowAlternationEnabled]="true" [showBorders]="true" [width]="'100%'"
                [showColumnLines]="true" [showRowLines]="true" [showBorders]="true" [rowAlternationEnabled]="true">


                <dxi-column dataField="doNo" caption="DO" dataType="string" [width]="120"
                    alignment="center"></dxi-column>
                <dxi-column dataField="date" caption="Date" dataType="date" [width]="100"
                    alignment="center"></dxi-column>
                <dxi-column dataField="itemNo" caption="Item No." dataType="number" [width]="70"
                    alignment="center"></dxi-column>
                <dxi-column dataField="materialDesc" caption="Material Description" dataType="string" [minWidth]="150"
                    alignment="left"></dxi-column>
                <dxi-column dataField="qty" caption="Quantity" dataType="number" [width]="80"
                    alignment="right"></dxi-column>

                <dxi-column width="130" alignment="center" cellTemplate="downloadTemplate">
                    <div *dxTemplate="let cell of 'downloadTemplate'">
                        <button class="btn btn-sm btn-outline-info rounded-pill mx-2" (click)="onClickDownload()">
                            <i class="fa-solid fa-download"></i> Download
                        </button>
                    </div>
                </dxi-column>

            </dx-data-grid>
        </div>
    </div>
</div>